{"version":3,"file":"static/js/645.a42941e8.chunk.js","mappings":"uQACA,GAAgB,OAAS,6BAA6B,aAAe,mCAAmC,OAAS,6BAA6B,IAAM,0BAA0B,QAAU,8BAA8B,WAAa,iCAAiC,SAAW,+BAA+B,WAAa,iCAAiC,KAAO,4B,kBCOpV,SAASA,IAAgB,IAAD,MACrC,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEMC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAWC,EAAAA,EAAAA,MACXC,GAAO,UAAAF,EAASG,aAAT,eAAgBD,OAAQ,KAErCE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,oGAEjBV,GAAW,GACXE,EAAS,MAHQ,UAKIS,EAAAA,EAAAA,IAAgBR,GALpB,OAKXS,EALW,OAMjBd,EAASc,GANQ,gDAQjBV,EAAS,EAAD,IARS,yBAUjBF,GAAW,GAVM,4EAAH,qDAalBU,GACD,GAAE,CAACP,IAGJ,IACMU,EADgBR,EAASS,SAASC,SAAS,QACnB,kBAAcZ,GAAd,kBAAqCA,EAArC,SAExBa,EADkBX,EAASS,SAASC,SAAS,WACjB,kBAAcZ,GAAd,kBAAqCA,EAArC,YAE5Bc,EAAQ,oBAAGZ,EAASG,aAAZ,aAAG,EAAgBD,YAAnB,QAA2B,UAErC,OACE,iBAAKW,UAAWC,EAAAA,UAAhB,WAEE,SAAC,KAAD,CAAMC,GAAIH,EAAWC,UAAYC,EAAAA,KAAjC,qBAECpB,IAAW,SAACsB,EAAA,EAAD,IACXpB,IAAS,gDACTJ,IACD,iBAAKqB,UAAWC,EAAAA,aAAhB,WACI,gBAAKD,UAAWC,EAAAA,OAAhB,UACE,gBAAKD,UAAWC,EAAAA,IAASG,IAAKzB,EAAM0B,YAAN,yCAAsD1B,EAAM0B,aAAgBC,EAAOC,IAAI,cAEvH,iBAAKP,UAAWC,EAAAA,QAAhB,WACE,wBAAKtB,EAAM6B,SACX,mDAAyC,GAArB7B,EAAM8B,cAAmBC,QAAQ,IAArD,QACA,sCACA,iCAAO/B,EAAMgC,aACb,oCACA,iCAAOhC,EAAMiC,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,WAClD,iBAAKhB,UAAWC,EAAAA,WAAhB,WACA,oDACA,SAAC,KAAD,CAAMD,UAAWC,EAAAA,SAAcX,MAAO,CAACD,KAAAA,GAAOa,GAAIP,EAAUsB,SAAO,EAAnE,mBACA,SAAC,KAAD,CAAMjB,UAAWC,EAAAA,WAAgBX,MAAO,CAACD,KAAAA,GAAOa,GAAIJ,EAAYmB,SAAO,EAAvE,+BAKN,SAAC,EAAAC,SAAD,CAAUC,UAAU,SAAChB,EAAA,EAAD,IAApB,UACA,SAAC,KAAD,QAIL,C","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetails_button__uXZxd\",\"movieDetails\":\"MovieDetails_movieDetails__EbgQo\",\"boxImg\":\"MovieDetails_boxImg__za2cX\",\"img\":\"MovieDetails_img__uOAom\",\"boxInfo\":\"MovieDetails_boxInfo__Plu-D\",\"boxAddInfo\":\"MovieDetails_boxAddInfo__Tw1XK\",\"castLink\":\"MovieDetails_castLink__U3a0A\",\"reviewLink\":\"MovieDetails_reviewLink__gtr-m\",\"link\":\"MovieDetails_link__U+v+7\"};","import { Outlet, useParams, Link, useLocation } from \"react-router-dom\"\nimport { useState, useEffect, Suspense } from \"react\"\nimport { getMovieDetails } from \"shared/Api/Api\";\nimport { Loader } from \"components/Loader/Loader\";\nimport css from \"./MovieDetails.module.css\";\nimport noImg from \"..//..//img/No-picture-available.png\";\n\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\nconst { movieId } = useParams();\n\nconst location = useLocation();\nconst from = location.state?.from || \"/\"\n\nuseEffect(() => {\n  const movieDetails = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const result = await getMovieDetails(movieId);\n      setMovie(result);\n    } catch(e) {\n      setError(e);\n    } finally {\n      setLoading(false);\n    }\n  }\n  movieDetails();\n}, [movieId])\n\n\nconst isCastDetails = location.pathname.includes(\"cast\");\nconst castLink = isCastDetails ? `/movies/${movieId}` : `/movies/${movieId}/cast`;\nconst isReviewDetails = location.pathname.includes(\"reviews\");\nconst reviewLink = isReviewDetails ? `/movies/${movieId}` : `/movies/${movieId}/reviews`;\n  \nconst backLink = location.state?.from ?? '/movies';\n\n    return (\n      <div className={css.container}>\n\n        <Link to={backLink}  className={ css.link } >Go back</Link>\n       \n        {loading && <Loader />}\n        {error && <p>Something went wrong</p>}\n        {movie && (\n        <div className={css.movieDetails}>\n            <div className={css.boxImg}>\n              <img className={css.img} src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : noImg} alt=\"poster\"/>\n            </div>\n            <div className={css.boxInfo}>\n              <h2>{movie.title}</h2>\n              <p>User Score: {`${(movie.vote_average * 10).toFixed(1)}`}%</p>\n              <h3>Overview</h3>\n              <p>{`${movie.overview}`}</p>\n              <h3>Genres</h3>\n              <p>{`${movie.genres.map(genre => genre.name).join(' / ')}`}</p>\n              <div className={css.boxAddInfo}>\n              <h2>Additional information</h2>\n              <Link className={css.castLink} state={{from}} to={castLink} replace>Cast</Link>\n              <Link className={css.reviewLink} state={{from}} to={reviewLink} replace>Reviews</Link>\n            </div>\n            </div>\n        </div>\n        )}\n        <Suspense fallback={<Loader />}>\n        <Outlet/> \n        </Suspense>\n      </div>\n    )\n  }\n  \n\n  /*\n  const goBack = () => navigate(-1);\nconst isCastDetails = location.pathname.includes(\"cast\");\nconst castLink = isCastDetails ? `/movies/${movieId}` : `/movies/${movieId}/cast`;\nconst isReviewDetails = location.pathname.includes(\"reviews\");\nconst reviewLink = isReviewDetails ? `/movies/${movieId}` : `/movies/${movieId}/reviews`;\n\n    return (\n      <div className={css.container}>\n        <button className={css.button} onClick={goBack}>Go back</button>\n        {loading && <Loader />}\n        {error && <p>Something went wrong</p>}\n        {movie && (\n        <div className={css.movieDetails}>\n            <div className={css.boxImg}>\n              <img className={css.img} src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : noImg} alt=\"poster\"/>\n            </div>\n            <div className={css.boxInfo}>\n              <h2>{movie.title}</h2>\n              <p>User Score: {`${(movie.vote_average * 10).toFixed(1)}`}%</p>\n              <h3>Overview</h3>\n              <p>{`${movie.overview}`}</p>\n              <h3>Genres</h3>\n              <p>{`${movie.genres.map(genre => genre.name).join(' / ')}`}</p>\n              <div className={css.boxAddInfo}>\n              <h2>Additional information</h2>\n              <Link className={css.castLink} state={{from}} to={castLink} replace>Cast</Link>\n              <Link className={css.reviewLink} state={{from}} to={reviewLink} replace>Reviews</Link>\n            </div>\n            </div>\n        </div>\n        )}\n        <Suspense fallback={<Loader />}>\n        <Outlet/> \n        </Suspense>\n      </div>\n    )\n  }\n  */"],"names":["MovieDetails","useState","movie","setMovie","loading","setLoading","error","setError","movieId","useParams","location","useLocation","from","state","useEffect","movieDetails","getMovieDetails","result","castLink","pathname","includes","reviewLink","backLink","className","css","to","Loader","src","poster_path","noImg","alt","title","vote_average","toFixed","overview","genres","map","genre","name","join","replace","Suspense","fallback"],"sourceRoot":""}